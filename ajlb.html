<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AJLB Generator - Useless Generators</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #a8edea, #fed6e3);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            min-height: 100vh;
            padding: 50px 20px;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 30px;
            color: #333;
        }

        button, select {
            padding: 12px 20px;
            margin: 10px;
            border-radius: 8px;
            border: none;
            font-size: 1rem;
            cursor: pointer;
        }

        button {
            background-color: #fff;
            color: #333;
            box-shadow: 2px 2px 8px rgba(0,0,0,0.1);
            transition: all 0.2s ease;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 2px 4px 12px rgba(0,0,0,0.2);
        }

        select {
            display: none; /* Hidden until button click */
            background-color: #fff;
            box-shadow: 2px 2px 8px rgba(0,0,0,0.1);
        }

        #continueBtn {
            display: none; /* Hidden until a selection is made */
        }
    </style>
</head>
<body>

    <h1>AJLB Generator</h1>

    <!-- Step 1: Buttons -->
    <div class="buttons">
        <button id="statBtn">Statistics</button>
        <button id="ecoBtn">Economy</button>
        <button class="empty" disabled>Button 3</button>
        <button class="empty" disabled>Button 4</button>
    </div>

    <!-- Step 2: Dropdown -->
    <select id="statDropdown">
        <option value="" selected disabled>Select a statistic</option>
        <option value="%statistic_mob_kills%">%statistic_mob_kills%</option>
        <option value="%statistic_mine_block%">%statistic_mine_block%</option>
        <option value="%statistic_use_item%">%statistic_use_item%</option>
        <option value="%statistic_break_item%">%statistic_break_item%</option>
        <option value="%statistic_craft_item%">%statistic_craft_item%</option>
        <option value="%statistic_ticks_played%">%statistic_ticks_played%</option>
        <option value="%statistic_seconds_played%">%statistic_seconds_played%</option>
        <option value="%statistic_minutes_played%">%statistic_minutes_played%</option>
        <option value="%statistic_hours_played%">%statistic_hours_played%</option>
        <option value="%statistic_days_played%">%statistic_days_played%</option>
        <option value="%statistic_time_played%">%statistic_time_played%</option>
        <option value="%statistic_time_played:seconds%">%statistic_time_played:seconds%</option>
        <option value="%statistic_time_played:minutes%">%statistic_time_played:minutes%</option>
        <option value="%statistic_time_played:hours%">%statistic_time_played:hours%</option>
        <option value="%statistic_time_played:days%">%statistic_time_played:days%</option>
        <option value="%statistic_animals_bred%">%statistic_animals_bred%</option>
        <option value="%statistic_armor_cleaned%">%statistic_armor_cleaned%</option>
        <option value="%statistic_banner_cleaned%">%statistic_banner_cleaned%</option>
        <option value="%statistic_beacon_interacted%">%statistic_beacon_interacted%</option>
        <option value="%statistic_boat_one_cm%">%statistic_boat_one_cm%</option>
        <option value="%statistic_brewingstand_interaction%">%statistic_brewingstand_interaction%</option>
        <option value="%statistic_cake_slices_eaten%">%statistic_cake_slices_eaten%</option>
        <option value="%statistic_cauldron_filled%">%statistic_cauldron_filled%</option>
        <option value="%statistic_cauldron_used%">%statistic_cauldron_used%</option>
        <option value="%statistic_chest_opened%">%statistic_chest_opened%</option>
        <option value="%statistic_climb_one_cm%">%statistic_climb_one_cm%</option>
        <option value="%statistic_crafting_table_interaction%">%statistic_crafting_table_interaction%</option>
        <option value="%statistic_crouch_one_cm%">%statistic_crouch_one_cm%</option>
        <option value="%statistic_damage_dealt%">%statistic_damage_dealt%</option>
        <option value="%statistic_damage_taken%">%statistic_damage_taken%</option>
        <option value="%statistic_deaths%">%statistic_deaths%</option>
        <option value="%statistic_dispenser_inspected%">%statistic_dispenser_inspected%</option>
        <option value="%statistic_dive_one_cm%">%statistic_dive_one_cm%</option>
        <option value="%statistic_drop%">%statistic_drop%</option>
        <option value="%statistic_dropper_inspected%">%statistic_dropper_inspected%</option>
        <option value="%statistic_enderchest_opened%">%statistic_enderchest_opened%</option>
        <option value="%statistic_fall_one_cm%">%statistic_fall_one_cm%</option>
        <option value="%statistic_fish_caught%">%statistic_fish_caught%</option>
        <option value="%statistic_flower_potted%">%statistic_flower_potted%</option>
        <option value="%statistic_fly_one_cm%">%statistic_fly_one_cm%</option>
        <option value="%statistic_furnace_interaction%">%statistic_furnace_interaction%</option>
        <option value="%statistic_hopper_inspected%">%statistic_hopper_inspected%</option>
        <option value="%statistic_horse_one_cm%">%statistic_horse_one_cm%</option>
        <option value="%statistic_item_enchanted%">%statistic_item_enchanted%</option>
        <option value="%statistic_jump%">%statistic_jump%</option>
        <option value="%statistic_junk_fished%">%statistic_junk_fished%</option>
        <option value="%statistic_leave_game%">%statistic_leave_game%</option>
        <option value="%statistic_minecart_one_cm%">%statistic_minecart_one_cm%</option>
        <option value="%statistic_noteblock_played%">%statistic_noteblock_played%</option>
        <option value="%statistic_noteblock_tuned%">%statistic_noteblock_tuned%</option>
        <option value="%statistic_pig_one_cm%">%statistic_pig_one_cm%</option>
        <option value="%statistic_player_kills%">%statistic_player_kills%</option>
        <option value="%statistic_record_played%">%statistic_record_played%</option>
        <option value="%statistic_sprint_one_cm%">%statistic_sprint_one_cm%</option>
        <option value="%statistic_swim_one_cm%">%statistic_swim_one_cm%</option>
        <option value="%statistic_talked_to_villager%">%statistic_talked_to_villager%</option>
        <option value="%statistic_time_since_death%">%statistic_time_since_death%</option>
        <option value="%statistic_ticks_since_death%">%statistic_ticks_since_death%</option>
        <option value="%statistic_seconds_since_death%">%statistic_seconds_since_death%</option>
        <option value="%statistic_minutes_since_death%">%statistic_minutes_since_death%</option>
        <option value="%statistic_hours_since_death%">%statistic_hours_since_death%</option>
        <option value="%statistic_days_since_death%">%statistic_days_since_death%</option>
        <option value="%statistic_traded_with_villager%">%statistic_traded_with_villager%</option>
        <option value="%statistic_trapped_chest_triggered%">%statistic_trapped_chest_triggered%</option>
        <option value="%statistic_walk_one_cm%">%statistic_walk_one_cm%</option>
        <option value="%statistic_sleep_in_bed%">%statistic_sleep_in_bed%</option>
        <option value="%statistic_sneak_time%">%statistic_sneak_time%</option>
        <option value="%statistic_aviate_one_cm%">%statistic_aviate_one_cm%</option>
    </select>

    <!-- Economy / Vault placeholders -->
    <select id="ecoDropdown" style="display:none;">
        <option value="" selected disabled>Select an economy placeholder</option>
        <option value="%vault_eco_balance%">%vault_eco_balance%</option>
        <option value="%vault_eco_balance_<number>dp%">%vault_eco_balance_<number>dp%</option>
        <option value="%vault_eco_balance_fixed%">%vault_eco_balance_fixed%</option>
        <option value="%vault_eco_balance_formatted%">%vault_eco_balance_formatted%</option>
        <option value="%vault_eco_balance_commas%">%vault_eco_balance_commas%</option>
    </select>

    <!-- Step 3: Continue -->
    <button id="continueBtn">Continue</button>

    <script>

        const statBtn = document.getElementById('statBtn');
        const statDropdown = document.getElementById('statDropdown');
        const continueBtn = document.getElementById('continueBtn');
        const ecoBtn = document.getElementById('ecoBtn');
        const ecoDropdown = document.getElementById('ecoDropdown');

        // Show dropdown when Statistics button is clicked
        statBtn.addEventListener('click', () => {
            statDropdown.style.display = 'block';
            ecoDropdown.style.display = 'none';
            statDropdown.scrollIntoView({ behavior: 'smooth' });
        });

        // Show dropdown when Economy button is clicked
        ecoBtn.addEventListener('click', () => {
            ecoDropdown.style.display = 'block';
            statDropdown.style.display = 'none';
            ecoDropdown.scrollIntoView({ behavior: 'smooth' });
        });

        // Show Continue button once a statistic or economy placeholder is selected
        statDropdown.addEventListener('change', () => {
            continueBtn.style.display = 'inline-block';
        });
        ecoDropdown.addEventListener('change', () => {
            continueBtn.style.display = 'inline-block';
        });

        // Save selected option (statistic or vault) and go to color picker
        function saveStatAndContinue(){
            // priority: statDropdown then ecoDropdown
            const statRaw = statDropdown.value || '';
            const ecoRaw = ecoDropdown.value || '';
            if(statRaw){
                // sanitize statistic like "%statistic_mine_block%" -> "mine_block"
                let sanitized = statRaw.replace(/%/g, '').replace(/^statistic_/, '');
                if(sanitized.includes('_')){
                    const parts = sanitized.split('_');
                    if(parts.length > 2){
                        sanitized = parts.slice(1).join('_');
                    }
                }
                if(!sanitized) sanitized = 'mine_block';
                localStorage.setItem('selectedStat', sanitized);
                localStorage.setItem('statKind', 'statistic');
            } else if(ecoRaw){
                // save vault placeholder without % signs, preserve token text
                const sanitized = ecoRaw.replace(/%/g, '');
                localStorage.setItem('selectedStat', sanitized);
                localStorage.setItem('statKind', 'vault');
            } else {
                // nothing selected: default to mine_block
                localStorage.setItem('selectedStat', 'mine_block');
                localStorage.setItem('statKind', 'statistic');
            }
            // go to color picker
            window.location.href = 'colorpick.html';
        }

        // Replace inline onclick with function to ensure saving
        continueBtn.addEventListener('click', (e) => {
            e.preventDefault();
            saveStatAndContinue();
        });
    </script>

</body>
</html>

